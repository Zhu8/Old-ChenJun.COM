<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
  <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
    <meta content="  在IE中为abbr标签加样式  发布于：   			2006年7月21日 11时27分45秒      Chen Jun(Zhu8)  简介&lt;abbr&gt;是用来为web页面上的简称（译者注：这里把简称和缩写分开而论，简称范围比缩写大，取..." name="description" />
    <meta content="Jekyll" name="generator" />
    <meta content="Chen Jun(Zhu8)" name="author" />
    <meta content="Mfl8lf6NN0DWPluv8lQpBL-mrKi22ZOcnlKXYURni1Y" name="google-site-verification" />
    <meta content="EfohsDsVrB" name="baidu-site-verification" />
    <!-- Enable responsiveness on mobile devices-->
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1" name="viewport" />
    <link href="http://feeds.feedburner.com/Zhu8/" rel="alternate" title=" Feed" type="application/atom+xml" />
    <link href="https://plus.google.com/+ChenJun" rel="author" />
    <title>在IE中为abbr标签加样式 &middot; 陈俊的网：浮生志</title>
    <!-- CSS -->
    <link rel="stylesheet" href="http://cloud.chenjun.com/assets/css/poole.css" />
    <link rel="stylesheet" href="http://cloud.chenjun.com/assets/css/syntax.css" />
    <link rel="stylesheet" href="http://cloud.chenjun.com/assets/css/lanyon.css" />
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://cloud.chenjun.com/assets/apple-touch-icon-precomposed.png" />
    <link rel="shortcut icon" href="http://cloud.chenjun.com/assets/favicon.ico" />
    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml" />
</head>

  <body class="layout-reverse sidebar-overlay">
    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">陈俊的网：浮生志</a>
            <small>On The Way to Philistinism...</small>
            <span class="pull-right">
    <a class="link" href="https://twitter.com/5CJ/" rel="me" title="Follow my Twitter!">
        <i id="twitter-ic" class="fa fa-twitter"></i>
    </a>
    <a class="link" href="https://plus.google.com/+ChenJun/" rel="publisher" title="Plus me on Google+!">
        <i id="google-ic" class="fa fa-google-plus-square"></i>
    </a>
    <a class="link" href="https://www.facebook.com/ichenjun/" rel="me" title="Connect me on Facebook!">
        <i id="facebook-ic" class="fa fa-facebook-square"></i>
    </a>
    <a class="link" href="http://weibo.com/Zhu8/" rel="me" title="关注我的新浪微博!">
        <i id="weibo-ic" class="fa fa-weibo"></i>
    </a>
    <a class="link" href="/feed.xml" title="Subscribe ChenJun.COM's Feed!">
        <i id="rss-ic" class="fa fa-rss"></i>
    </a>
</span>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">在IE中为abbr标签加样式</h1>
  <span class="post-date"><b>发布于：</b> <i class="fa fa-calendar"></i>&nbsp; <time datetime="2006-07-21T11:27:45+08:00" pubdate>
			2006年7月21日 11时27分45秒</time>
      <a href="https://plus.google.com/+ChenJun?rel=author">Chen Jun(Zhu8)</a></span>
  <p><strong>简介</strong></p>

<p>&lt;abbr&gt;是用来为web页面上的简称（译者注：这里把简称和缩写分开而论，简称范围比缩写大，取首字母的缩写用&lt;acronym&gt;标签）<a href="http://www.evolt.org/article/HTML_is_not_an_acronym/17/35750/index.html">添加适当标注</a>的XHTML标签，Windows的IE浏览器暂不支持&lt;abbr&gt;标签。 在IE里，你可以应用CSS给&lt;acronym&gt;但是不能应用给&lt;abbr&gt;标签，IE会为&lt;acronym&gt;标签的title属性显示提示，但是会忽略&lt;abbr&gt;标签。</p>

<p>这个IE的bug（或者特色）使得一些网站人员认为&lt;abbr&gt;标签一点用都没有，而显然这么认为是不对的。在Mozilla和Opera里还是很正确的处理了这个标签，并且它对于web内容的可读性和语义化来说非常重要。这也是我为什么一直在寻找解决方法，最终我找到了。</p>

<!--more-->

<p><strong>解决方法</strong></p>

<p>本方法基于一个简单的事实：即使IE会忽略&lt;abbr&gt;标签，但是其他嵌套在&lt;abbr&gt;标签里的标签还是正常的。所以我在嵌了一个&lt;span&gt;标签在&lt;abbr&gt;里，设置&lt;span&gt;的title和class属性，然后&lt;abbr&gt;开始变得和&lt;acronym&gt;标签一样了。</p>

<p><strong>代码例子</strong></p>

<p>看一下下面的代码，是一个简单的缩写词的例子：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">    <span class="nt">&lt;abbr</span> <span class="na">title=</span><span class="s">&quot;Cascading Style Sheets&quot;</span><span class="nt">&gt;</span>CSS<span class="nt">&lt;/abbr&gt;</span>
</code></pre></div>
<p>现在，对比一下修改后的代码：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">    <span class="nt">&lt;abbr</span> <span class="na">title=</span><span class="s">&quot;Cascading Style Sheets&quot;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;abbr&quot;</span> <span class="na">title=</span><span class="s">&quot;Cascading Style Sheets&quot;</span><span class="nt">&gt;</span>CSS<span class="nt">&lt;/span&gt;&lt;/abbr&gt;</span>
</code></pre></div>
<p><strong>自动操作</strong></p>

<p>手动的给每一个&lt;abbr&gt;标签嵌入&lt;span&gt;显然不可能&amp;#8212;-既无聊又对Mozilla和Opera没必要。幸运的是，现在有一个自动的、基于客户端脚本的解决方法。</p>

<p>你可能注意到了，这个页面（译者注：<a href="http://www.sovavsiti.cz/css/abbr.html">原作者的页面</a>）上的简写词语即使在IE里都会有提示，并且加了CSS样式（虚下划线和一个问号状的鼠标光标）。然而你如果看一下源代码，你将找不到在上文提到的&lt;span&gt;标签。这得益于本页加载的一个简单的JavaScript：</p>
<div class="highlight"><pre><code class="language-java" data-lang="java">    <span class="n">function</span> <span class="nf">styleAbbr</span><span class="o">()</span> <span class="o">{</span>
     <span class="n">var</span> <span class="n">oldBodyText</span><span class="o">,</span> <span class="n">newBodyText</span><span class="o">,</span> <span class="n">reg</span>
     <span class="nf">if</span> <span class="o">(</span><span class="n">isIE</span><span class="o">)</span> <span class="o">{</span>
     <span class="n">oldBodyText</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="na">body</span><span class="o">.</span><span class="na">innerHTML</span><span class="o">;</span>
     <span class="n">reg</span> <span class="o">=</span> <span class="o">/&lt;</span><span class="n">abbr</span><span class="o">([^&gt;]*)&gt;([^&lt;]*)&lt;/</span><span class="n">ABBR</span><span class="o">&gt;/</span><span class="n">g</span><span class="o">;</span>
     <span class="n">newBodyText</span> <span class="o">=</span> <span class="n">oldBodyText</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="n">reg</span><span class="o">,</span> <span class="o">&amp;</span><span class="err">#</span><span class="mi">8216</span><span class="o">;&lt;</span><span class="n">abbr</span> <span class="n">$1</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="o">&gt;&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="n">abbr</span><span class="s">&quot;&quot;</span> <span class="n">$1</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="o">&gt;</span><span class="n">$2</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;&lt;/</span><span class="n">abbr</span><span class="o">&gt;&amp;</span><span class="err">#</span><span class="mi">8216</span><span class="o">;);</span>
     <span class="n">document</span><span class="o">.</span><span class="na">body</span><span class="o">.</span><span class="na">innerHTML</span> <span class="o">=</span> <span class="n">newBodyText</span><span class="o">;</span>
     <span class="o">}</span>
     <span class="o">}</span>
     <span class="n">window</span><span class="o">.</span><span class="na">onload</span> <span class="o">=</span> <span class="n">function</span><span class="o">(){</span>
     <span class="n">styleAbbr</span><span class="o">()</span>
     <span class="o">};</span>
     <span class="n">isIE</span> <span class="o">=</span> <span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="na">all</span><span class="o">)</span> <span class="o">?</span> <span class="kc">true</span><span class="o">:</span><span class="kc">false</span><span class="o">;</span>
     <span class="o">&lt;/</span><span class="n">abbr</span><span class="o">([^&gt;</span>
</code></pre></div>
<p>你可能注意到了，我的站点也具有了此功效，是因为我将上面的代码写入了一个名为<em>abbr.js</em>的脚本中，然后在<em>Theme</em>的<em>header.php</em>中加入了这样一段代码，同时和插件<a href="http://chenjun.com/blog/?p=5">Acronym Replacer</a>配合使用就可以了。<strong>Zhu8[注]</strong></p>

<p>这段脚本会检查客户端浏览器，如果是IE，那么则替换所有的&lt;abbr&gt;标签为修改过的版本（嵌入了&lt;span&gt;）。注意的是我们必须使用正则表达式和innerHTML属性来取代标准的DOM方法，因为IE不能通过DOM来获取&lt;abbr&gt;属性。</p>

<p><strong>样式化</strong></p>

<p>最后看一下这个页面上使用的CSS。相当简单：</p>
<div class="highlight"><pre><code class="language-css" data-lang="css">    <span class="nt">abbr</span><span class="o">,</span> <span class="nt">acronym</span><span class="o">,</span> <span class="nt">span</span><span class="nc">.abbr</span> <span class="p">{</span>
     <span class="k">cursor</span><span class="o">:</span> <span class="k">help</span><span class="p">;</span>
     <span class="k">border-bottom</span><span class="o">:</span> <span class="m">1px</span> <span class="k">dashed</span> <span class="m">#000</span><span class="p">;</span>
     <span class="p">}</span>
</code></pre></div>
<p>Mozilla和Opera使用abbr和acronym属性选择器，IE则使用acronym和span.abbr。无论如何，&lt;abbr&gt;和&lt;acronym&gt;都被样式化了——一个问号状的鼠标光标（当鼠标指上后）和虚下划线。</p>

<p><strong>其他</strong></p>

<p>1.感谢Michael Kusyn提供了JavaScript解决方法。
2.更多关于&lt;abbr&gt;，&lt;acronym&gt;标签和两者的区别，参考<em>Craig Saila</em>的<a href="http://www.evolt.org/article/HTML_is_not_an_acronym/17/35750/index.html">HTML is not an acronym</a> （Evolt.org）</p>

<p>欢迎交流意见评论，可以发邮件至<a href="mailto:marek@sovavsiti.cz">marek@sovavsiti.cz</a>.</p>

<ul>
<li>原文：<a href="http://www.sovavsiti.cz/css/abbr.html">http://www.sovavsiti.cz/css/abbr.html</a></li>
<li>翻译：<a href="http://blog.handsbrain.com/JunChen">JunChen </a></li>
<li>版权:译者JunChen所有，转载请联系译者。</li>
</ul>

</div>
	<div class="pfooter">
      
        <h1><b><i class="fa fa-tags"></i>&nbsp; Tag | 标签：</b></h1>
        <ul>
        
        


	 
		<li><a href="/tags.html#abbr-ref" rel="tag">
			abbr <span class="badge">1</span>
		</a></li>
	 
		<li><a href="/tags.html#IE-ref" rel="tag">
			IE <span class="badge">1</span>
		</a></li>
	
	

        </ul>
      

      
        <h1><b><i class="fa fa-book"></i>&nbsp; Cat | 分类：</b></h1>
        <ul>
        
        


	 
		<li><a href="/categories.html#石马 | code-ref">
			石马 | code <span>14</span>
		</a></li>
	
	

        </ul>
      
	</div>
<div class="share">
   <p><!-- SHARE BEGIN -->
<div class="share">
    ［分享本文&nbsp;<i class="fa fa-paper-plane-o"></i>］：
    <a href="javascript:void(0)" onclick="window.open('http://v.t.sina.com.cn/share/share.php?url='+encodeURI(document.location)+'&title='+encodeURI(document.title) , 'newwindow', 'height=330,width=550,top=' + (screen.height - 280) / 2 + ',left=' + (screen.width - 550) / 2 + ', toolbar=no, menubar=no, scrollbars=no,resizable=yes,location=no, status=no')"><i id="weibo-ic" class="fa fa-2x fa-weibo"></i></a>
    <a href="javascript:void(0)" onclick="window.open('https://plus.google.com/share?url='+encodeURIComponent(document.location.href), 'newwindow', 'height=330,width=550,top=' + (screen.height - 280) / 2 + ',left=' + (screen.width - 550) / 2 + ', toolbar=no, menubar=no, scrollbars=no,resizable=yes,location=no, status=no');"><i id="google-ic" class="fa fa-2x fa-google-plus-square"></i></a>
    <a href="javascript:void(0)" onclick="window.open('http://twitter.com/intent/tweet?source='+encodeURI(document.location)+'&text='+document.title , 'newwindow', 'height=330,width=550,top=' + (screen.height - 280) / 2 + ',left=' + (screen.width - 550) / 2 + ', toolbar=no, menubar=no, scrollbars=no,resizable=yes,location=no, status=no');"><i id="twitter-ic" class="fa fa-2x fa-twitter-square"></i></a>
    <a href="javascript:void(0)" onclick="window.open('https://www.facebook.com/sharer.php?u='+encodeURIComponent(document.location.href)+'&t='+encodeURIComponent(document.title), 'newwindow', 'height=330,width=550,top=' + (screen.height - 280) / 2 + ',left=' + (screen.width - 550) / 2 + ', toolbar=no, menubar=no, scrollbars=no,resizable=yes,location=no, status=no');"><i id="facebook-ic" class="fa fa-2x fa-facebook-square"></i></a>
    <a href="javascript:void(0)" onclick="window.open('https://delicious.com/save?v=5&provider=ChenJun.COM&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title), 'delicious', 'height=330,width=550,top=' + (screen.height - 280) / 2 + ',left=' + (screen.width - 550) / 2 + ', toolbar=no, menubar=no, scrollbars=no,resizable=yes,location=no, status=no');"><i id="delicious-ic" class="fa fa-2x fa-delicious"></i></a>
</div>
<!-- SHARE END --></p>
</div>
<div id="page-navigation">
        <div class="left"> 
         <a href="/blog/2006/07/my-wordpress-plugins.html" title="Previous Post: 我的WordPress插件列表" rel="prev"><i class="fa fa-arrow-circle-left"></i>&nbsp;上一篇</a>  
        </div> 
        <div class="post-archive"> 
                <a href="/archive.html" title="ChenJun.COM Archive Page"><i class="fa fa-archive"></i>&nbsp;归档页</a> 
        </div>
        <div class="right"> 
         <a href="/blog/2006/07/google-ban-zhu8-net.html" title="Next Post: 我被Google封了？" rel="next">下一篇&nbsp;<i class="fa fa-arrow-circle-right"></i></a>  
        </div>
        <div class="clear">&nbsp;</div> 
</div>
<div class="GoogleAD">
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- chenjun.com sidebar -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4945528698886553"
     data-ad-slot="3639005002"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>
<div class="disqus">
	<div id="disqus_thread"></div>
<script type="text/javascript">

    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'chenjun'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">
<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
    <div class="sidebar-misc">
        <img src="/images/zhubajie.png" alt="Zhu Ba Jie!" title="Zhu Ba Jie!" /><!-- Stephen Chow「你以為你匿喺度就搵你唔到咩？冇用㗎！你啲咁出色嘅難忍，無論喺邊度，就好似漆黑中嘅螢火蟲一樣，咁鮮明、咁出眾。你憂鬱嘅眼神、唏噓嘅鬚根、神乎奇技嘅刀法、同埋嗰杯Dry Martini，都徹底咁將你出賣咗！」 -->
    </div>
    <nav class="sidebar-nav">
        <a class="sidebar-nav-item" href="/"><i class="fa fa-home fa-fw"></i>&nbsp; 站点首页 &middot; Home</a>
        
        <a class="sidebar-nav-item" href="/about.html"><i class="fa fa-book fa-fw"></i>&nbsp; 关于本站 &middot; About</a>
        <a class="sidebar-nav-item" href="/archive.html"><i class="fa fa-book fa-fw"></i>&nbsp; 日志归档 &middot; Archive</a>
        <a class="sidebar-nav-item" href="/categories.html"><i class="fa fa-book fa-fw"></i>&nbsp; 日志分类 &middot; Categories</a>
        <a class="sidebar-nav-item" href="/links.html"><i class="fa fa-book fa-fw"></i>&nbsp; 友情链接 &middot; Links</a>
        <a class="sidebar-nav-item" href="/search.html"><i class="fa fa-book fa-fw"></i>&nbsp; 搜索本站 &middot; Search</a>
        <a class="sidebar-nav-item" href="/tags.html"><i class="fa fa-book fa-fw"></i>&nbsp; 日志标签 &middot; Tags</a>
        <span class="sidebar-nav-item"><i class="fa fa-info-circle"></i>&nbsp; Ver. 2014.08.13</span>
    </nav>
    <div class="sidebar-misc">
        &copy; 2014.&nbsp; <a href="http://www.apple.com/mac/">Made on a&nbsp; <i class="fa fa-2x fa-apple"></i></a><br />
        <span class="copyright">
            <small><i class="fa fa-2x fa-rocket"></i>&nbsp; Build with <a href="http://jekyllrb.com/">Jekyll</a> & <a href="https://bitbucket.org/">BitBucket</a>.</small>
        </span>
        <a href="javascript:scroll(0,0)"><img src="/images/google-doraemon.png" width="70%" alt="I'M a Fan of Google & Doraemon!" title="I'M a Fan of Google & Doraemon!" /></a>
    </div>
</div>
    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      //<![CDATA[
      (window.jQuery)||document.write('<script type="text/javascript" src="//ajax.aspnetcdn.com/ajax/jquery/jquery-1.11.1.min.js"><\/script>');//]]>
    </script>
    <script src="http://cloud.chenjun.com/assets/js/scale.fix.js" type="text/javascript"></script>
    <script src="http://cloud.chenjun.com/assets/js/go-top.js" type="text/javascript"></script>
    <div style="display:none;"><script src="http://s95.cnzz.com/stat.php?id=17872&web_id=17872" language="JavaScript"></script></div>
  </body>
</html>
