<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

	<title>在IE中为abbr标签加样式 | ChenJun(Zhu8)-浮生志</title>

    
    <meta name="author" content="Chen Jun(Zhu8)">

  <meta name="google-site-verification" content="Mfl8lf6NN0DWPluv8lQpBL-mrKi22ZOcnlKXYURni1Y" />
  <meta name="baidu-site-verification" content="EfohsDsVrB" />
  <meta property="wb:webmaster" content="e0287cd04d1775d9" />
  <html xmlns:wb=“http://open.weibo.com/wb”>
	<link href="http://feeds.feedburner.com/Zhu8/github/" rel="alternate" title=" Feed" type="application/atom+xml">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="author" href="https://plus.google.com/+ChenJun">

    <link rel="stylesheet" href="http://zhu8.qiniudn.com/assets/css/bootstrap.min.css">
    <!--link rel="stylesheet" href="//cdn.jsdelivr.net/bootflat/2.0.0/css/bootflat.css" /-->
    <link rel="stylesheet" href="http://zhu8.qiniudn.com/assets/css/bootstrap.min.2.css" />
    <!--link rel="stylesheet" href="http://zhu8.qiniudn.com/assets/css/ihover.min.css"-->
    <link rel="stylesheet" href="http://zhu8.qiniudn.com/assets/css/pygment_trac.css">
    <link rel="stylesheet" href="http://zhu8.qiniudn.com/assets/fancyBox/jquery.fancybox.css">
<link rel="stylesheet" href="http://zhu8.qiniudn.com/assets/css/style.css" type="text/css" media="screen" charset="utf-8">
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<!--[if lt IE9]>
<script src="http://zhu8.qiniudn.com/assets/js/html5.js"></script>
<![endif]-->
  </head>
  <body>

    <div class="wrapper">
      <header class="main">
        <hgroup>
          <h1 id="logo"><a href="/">ChenJun(Zhu8)-浮生志</a></h1>
          
            <p id="tagline">On The Way to Philistinism...</p>
          
        </hgroup>
        <ul class="buttons">
          <!-- <li><a href="http://github.com/Zhu8/" rel="me">Code <strong>GitHub</strong></a></li> -->
          <li class="twitter"><a href="http://twitter.com/5CJ/" rel="me">Follow <strong>Twitter</strong></a></li>
          <li class="facebook"><a href="http://www.facebook.com/ichenjun/" rel="me">Connect <strong>Facebook</strong></a></li>
          <li class="google"><a href="https://plus.google.com/+ChenJun/" rel="publisher">Plus Me<strong>Google+</strong></a></li>
        </ul>

        <p class="about text-justify">
          <a href="http://chenjun.com/"><strong>陈俊</strong></a>ChenJun(Zhu8)的个人网站，江苏人士，83年生人，电子产品自虐狂，<a href="http://chenjun.com/wang2/"><strong>王小波</strong></a>门下走狗，欢迎<strong>Fork</strong>本站@<a href="https://github.com/Zhu8/zhu8.github.io/fork">Github</a>。
        </p>

      </header>

      <section class="main" id="container">
		<!--^frag--><article class="post">
	<header>
    <!-- Nav tabs -->
<ul class="nav nav-pills">
    <li class=""><a href="/">Home | 首页</a></li>
    <li class=""><a href="/archive.html">Archive | 归档</a></li>
</ul>
	<div class="page-header">
		  <h1>在IE中为abbr标签加样式</h1>
    </div>
		<p><b>发布于：</b> <time datetime="2006-07-21T03:27:45+00:00" pubdate>
			2006年7月21日 03时27分45秒</time>
      <a href="https://plus.google.com/+ChenJun?rel=author">Chen Jun(Zhu8)</a>
    </p>
	</header>

	<p><strong>简介</strong></p>

<p>&lt;abbr&gt;是用来为web页面上的简称（译者注：这里把简称和缩写分开而论，简称范围比缩写大，取首字母的缩写用&lt;acronym&gt;标签）<a href="http://www.evolt.org/article/HTML_is_not_an_acronym/17/35750/index.html">添加适当标注</a>的XHTML标签，Windows的IE浏览器暂不支持&lt;abbr&gt;标签。 在IE里，你可以应用CSS给&lt;acronym&gt;但是不能应用给&lt;abbr&gt;标签，IE会为&lt;acronym&gt;标签的title属性显示提示，但是会忽略&lt;abbr&gt;标签。</p>

<p>这个IE的bug（或者特色）使得一些网站人员认为&lt;abbr&gt;标签一点用都没有，而显然这么认为是不对的。在Mozilla和Opera里还是很正确的处理了这个标签，并且它对于web内容的可读性和语义化来说非常重要。这也是我为什么一直在寻找解决方法，最终我找到了。</p>

<p><strong>解决方法</strong></p>

<p>本方法基于一个简单的事实：即使IE会忽略&lt;abbr&gt;标签，但是其他嵌套在&lt;abbr&gt;标签里的标签还是正常的。所以我在嵌了一个&lt;span&gt;标签在&lt;abbr&gt;里，设置&lt;span&gt;的title和class属性，然后&lt;abbr&gt;开始变得和&lt;acronym&gt;标签一样了。</p>

<p><strong>代码例子</strong></p>

<p>看一下下面的代码，是一个简单的缩写词的例子：</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;abbr title="Cascading Style Sheets"&gt;CSS&lt;/abbr&gt;
</code></pre></div>
<p>现在，对比一下修改后的代码：</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;abbr title="Cascading Style Sheets"&gt;&lt;span class="abbr" title="Cascading Style Sheets"&gt;CSS&lt;/span&gt;&lt;/abbr&gt;
</code></pre></div>
<p><strong>自动操作</strong></p>

<p>手动的给每一个&lt;abbr&gt;标签嵌入&lt;span&gt;显然不可能&amp;#8212;-既无聊又对Mozilla和Opera没必要。幸运的是，现在有一个自动的、基于客户端脚本的解决方法。</p>

<p>你可能注意到了，这个页面（译者注：<a href="http://www.sovavsiti.cz/css/abbr.html">原作者的页面</a>）上的简写词语即使在IE里都会有提示，并且加了CSS样式（虚下划线和一个问号状的鼠标光标）。然而你如果看一下源代码，你将找不到在上文提到的&lt;span&gt;标签。这得益于本页加载的一个简单的JavaScript：</p>
<div class="highlight"><pre><code class="language-" data-lang="">function styleAbbr() {
 var oldBodyText, newBodyText, reg
 if (isIE) {
 oldBodyText = document.body.innerHTML;
 reg = /&lt;abbr([^&gt;]*)&gt;([^&lt;]*)&lt;/ABBR&gt;/g;
 newBodyText = oldBodyText.replace(reg, &amp;#8216;&lt;abbr $1=""&gt;&lt;span class=""abbr"" $1=""&gt;$2&lt;/span&gt;&lt;/abbr&gt;&amp;#8216;);
 document.body.innerHTML = newBodyText;
 }
 }
 window.onload = function(){
 styleAbbr()
 };
 isIE = (document.all) ? true:false;
 &lt;/abbr([^&gt;
</code></pre></div>
<p>你可能注意到了，我的站点也具有了此功效，是因为我将上面的代码写入了一个名为<em>abbr.js</em>的脚本中，然后在<em>Theme</em>的<em>header.php</em>中加入了这样一段代码，同时和插件<a href="http://chenjun.com/blog/?p=5">Acronym Replacer</a>配合使用就可以了。<strong>Zhu8[注]</strong></p>

<p>这段脚本会检查客户端浏览器，如果是IE，那么则替换所有的&lt;abbr&gt;标签为修改过的版本（嵌入了&lt;span&gt;）。注意的是我们必须使用正则表达式和innerHTML属性来取代标准的DOM方法，因为IE不能通过DOM来获取&lt;abbr&gt;属性。</p>

<p><strong>样式化</strong></p>

<p>最后看一下这个页面上使用的CSS。相当简单：</p>
<div class="highlight"><pre><code class="language-" data-lang="">abbr, acronym, span.abbr {
 cursor: help;
 border-bottom: 1px dashed #000;
 }
</code></pre></div>
<p>Mozilla和Opera使用abbr和acronym属性选择器，IE则使用acronym和span.abbr。无论如何，&lt;abbr&gt;和&lt;acronym&gt;都被样式化了——一个问号状的鼠标光标（当鼠标指上后）和虚下划线。</p>

<p><strong>其他</strong></p>

<p>1.感谢Michael Kusyn提供了JavaScript解决方法。
2.更多关于&lt;abbr&gt;，&lt;acronym&gt;标签和两者的区别，参考<em>Craig Saila</em>的<a href="http://www.evolt.org/article/HTML_is_not_an_acronym/17/35750/index.html">HTML is not an acronym</a> （Evolt.org）</p>

<p>欢迎交流意见评论，可以发邮件至<a href="mailto:marek@sovavsiti.cz">marek@sovavsiti.cz</a>.</p>

<ul>
<li>原文：<a href="http://www.sovavsiti.cz/css/abbr.html">http://www.sovavsiti.cz/css/abbr.html</a></li>
<li>翻译：<a href="http://blog.handsbrain.com/JunChen">JunChen </a></li>
<li>版权:译者JunChen所有，转载请联系译者。</li>
</ul>


	<p>
		<div class="addthis_sharing_toolbox">
<ul class="share_links">
  <li>
<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=zhu8"></script>
</li>
</ul>
</div>

	</p>

	<footer>
    <section>
      
        <h1><b>标签：</b></h1>
        <ul>
        
        


	 
		<li><a href="/tags.html#abbr-ref">
			abbr <span class="badge">1</span>
		</a></li>
	 
		<li><a href="/tags.html#IE-ref">
			IE <span class="badge">1</span>
		</a></li>
	
	

        </ul>
      

      
        <h1><b>归档于：</b></h1>
        <ul>
        
        


	 
		<li><a href="/categories.html#石马 | code-ref">
			石马 | code <span>15</span>
		</a></li>
	
	

        </ul>
      
    </section>
	</footer>

	<div id="disqus_thread"></div>
<script type="text/javascript">

    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'chenjun'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

</article>
<!--$frag-->
      </section>

      <aside>
        <nav>
		<h3>Navigation</h3>
          <ul>
      			<li><a href="/">Home</a></li>
				<li><a href="/about.html">About</a></li>
      			<li><a href="/archive.html">Archive</a></li>
      			<li><a href="/tags.html">Tag List</a></li>
      			<li><a href="/categories.html">Categories</a></li>
          </ul>
        </nav>
        <ul>
          <li class="search"><script>
  (function() {
    var cx = '011396242115913189926:7a1cte8z8t8';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:searchbox-only resultsUrl="/search.html"></gcse:searchbox-only></li>
        </ul>

        <h3>Contact</h3>
        <p class="contact">
        <a href="http://weibo.com/zhu8" title="微博联系我"><img src="http://www.sinaimg.cn/blog/developer/wiki/LOGO_32x32.png" width="24" height="24" style="display:inline-block;vertical-align:middle"></a> & <a href='mailto:zhu8.net@googlemail'>zhu8.net@<img title="Zhu8.Net[at]Gmail" alt="Zhu8.Net[at]Gmail" src="https://mail.google.com/mail/images/2/5/logo.png" height="20" /></a>
        </p>
      </aside>
      <footer class="main">
	  <h3>Misc...</h3>
        <p><small>
			Powered by <a href="http://pages.github.com/">GitHub</a> & <a href="http://jekyllrb.com/">Jekyll</a>.
			Themed with <a href="http://github.com/orderedlist/minimal/">minimal</a>.
		</small></p>
      </footer>
    </div>
    <script src="http://zhu8.qiniudn.com/assets/js/scale.fix.js"></script>
	<script src="http://zhu8.qiniudn.com/assets/js/jquery.min.js" type="text/javascript"></script>
  <script src="http://zhu8.qiniudn.com/assets/js/bootstrap.min.js"></script>
	<script src="http://zhu8.qiniudn.com/assets/fancyBox/jquery.fancybox.pack.js"></script>
	<script src="http://zhu8.qiniudn.com/assets/js/application.js"></script>
	<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" src="http://zhu8.qiniudn.com/assets/js/go-top.js"></script>

    <div style="display:none;"><script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_17872'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/stat.php%3Fid%3D17872' type='text/javascript'%3E%3C/script%3E"));</script></div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7529365-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>

